---
import Body from './body.astro'
import Cover from './cover.astro'
import Details from './details.astro'
import Tags from './tags.astro'
import Title from './title.astro'

export interface Props {
  cover?: string
  coverAlt?: string
  date: Date
  link?: string
  slug: string
  tags?: string[]
  title: string
  url: string
}

const cx = {
  article:
    'pb-8 mb-8 border-solid border-b cv-auto border-black/10 dark:border-white/25',
}

const { cover, coverAlt, date, link, tags = [], title, slug, url } = Astro.props
---

<article class={cx.article}>
  <Title title={title} link={link ? link : url} isExternal={!!link} />
  <Details link={link} date={date} />
  {cover && coverAlt && <Cover cover={cover} coverAlt={coverAlt} />}
  <Body>
    <slot />
  </Body>
  <Tags slug={slug} url={url} tags={tags} title={title} />
</article>
